{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/authorization/authorization.guard.ts","./src/app/authorization/authorization.service.ts","./src/app/core/core.module.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthorizationGuard } from './authorization/authorization.guard';\n\nexport const routes: Routes = [\n  { path: '', pathMatch: 'full', redirectTo: 'home' },\n  {\n    path: 'home',\n    loadChildren: () =>\n      import('../app/home/home.module').then((m) => m.HomeModule),\n    canLoad: [AuthorizationGuard],\n  },\n  {\n    path: 'login',\n    loadChildren: () =>\n      import('../app/login/login.module').then((m) => m.LoginModule),\n  },\n  { path: '**', redirectTo: '', pathMatch: 'full' },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { Title } from '@angular/platform-browser';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css'],\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title: string;\r\n  constructor(private titleService: Title) {}\r\n\r\n  ngOnInit(): void {\r\n    this.title = environment.name;\r\n    this.titleService.setTitle(this.title);\r\n  }\r\n}\r\n","\r\n<router-outlet></router-outlet>\r\n","import { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { RouterModule } from '@angular/router';\nimport { CoreModule } from './core/core.module';\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [CoreModule, AppRoutingModule, RouterModule.forRoot([], { relativeLinkResolution: 'legacy' })],\n  providers: [],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import { Injectable } from '@angular/core';\nimport {\n  ActivatedRouteSnapshot,\n  CanActivate,\n  CanActivateChild,\n  CanLoad,\n  Route,\n  Router,\n  RouterStateSnapshot,\n} from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthorizationService } from './authorization.service';\n\ntype canActivateReturn = Observable<boolean> | Promise<boolean> | boolean;\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthorizationGuard\n  implements CanActivate, CanActivateChild, CanLoad {\n  constructor(\n    private authService: AuthorizationService,\n    private router: Router\n  ) {}\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): canActivateReturn {\n    const url: string = state.url;\n    return this.checkLogin(url);\n  }\n\n  checkLogin(url: string): canActivateReturn {\n    if (this.authService.isUserAuthenticated()) {\n      return true;\n    }\n    this.authService.redirectUrl = url;\n    this.router.navigate(['/login']);\n    return false;\n  }\n\n  canActivateChild(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): canActivateReturn {\n    return this.canActivate(route, state);\n  }\n\n  canLoad(route: Route): canActivateReturn {\n    const url = `/${route.path}`;\n    return this.checkLogin(url);\n  }\n}\n","import { HttpClient, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { User } from './model/user';\nimport { UserLogin } from './model/user-login';\nimport { environment } from 'src/environments/environment';\n\n\nconst CACHE_KEY_TOKEN = 'TOKEN';\nconst TOKEN_ENDPOINT = `${environment.api}/user/login`;\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthorizationService {\n  public redirectUrl: string;\n  private _user: User;\n\n  constructor(private http: HttpClient) {}\n\n  requestToken(user: UserLogin): Observable<HttpResponse<User>> {\n    return this.http.post<User>(\n      TOKEN_ENDPOINT,\n      {\n        userName: user.userName,\n        password: user.password,\n      },\n      { observe: 'response' }\n    );\n  }\n\n  login(user: UserLogin): Observable<object | User> {\n    const loginSubject = new Subject<User>();\n    this.requestToken(user).subscribe(\n      (response: HttpResponse<User>) => {\n        const { body: loggedUser } = response;\n        loggedUser.token = response.headers.get('x-access-token');\n        this.saveUserInfo(loggedUser);\n        loginSubject.next(loggedUser);\n      },\n      (error) => {\n        loginSubject.error(error);\n      }\n    );\n    return loginSubject.asObservable();\n  }\n\n  saveUserInfo(user: User) {\n    this._user = user;\n    this.setUser(this._user);\n  }\n\n  /**\n   * Efetua o logout do usu√°rio autenticado.\n   */\n  logout(): void {\n    this._user = undefined;\n    this.removeUser();\n  }\n\n  private setUser(user: User): void {\n    sessionStorage.setItem(CACHE_KEY_TOKEN, JSON.stringify(user));\n  }\n\n  private removeUser(): void {\n    sessionStorage.removeItem(CACHE_KEY_TOKEN);\n  }\n\n  getAuthenticatedUser(): User {\n    return this._user || JSON.parse(sessionStorage.getItem(CACHE_KEY_TOKEN));\n  }\n\n  isUserAuthenticated(): boolean {\n    return this.getAuthenticatedUser() !== null;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    HttpClientModule,\n    BrowserModule,\n    BrowserAnimationsModule,\n  ],\n  exports: [\n    HttpClientModule,\n    BrowserModule,\n    BrowserAnimationsModule,\n  ],\n})\nexport class CoreModule {}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  api: 'http://localhost:3000',\n  imagesPath: 'assets',\n  name: 'Byte Bank Broker',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":[],"sourceRoot":"webpack:///"}